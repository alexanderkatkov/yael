{"version":3,"names":[],"mappings":"","sources":["customizer.js"],"sourcesContent":["/**\r\n* Custom code for WP Customizer\r\n*/\r\n\r\n( function( $ ) {\r\n    \"use strict\";\r\n\r\n    /*!\r\n     * Budabuga Menu Plugin\r\n     * Original author: @alexander.katkov\r\n     * Further changes, comments: @alexander.katkov\r\n     * Licensed under the MIT license\r\n     */\r\n    \r\n    ;( function( $, window, document, undefined ) {\r\n    \r\n        // Create the defaults.\r\n        var pluginName = \"bdbgMenu\",\r\n    \r\n    \t\t// Don't need this stuff for now.\r\n            defaults = {\r\n                menuContainer: \"#bdbg-menu-main\"\r\n            };\r\n    \r\n        // Plugin constructor.\r\n        function Plugin( element, options ) {\r\n    \t\tthis.element = element;\r\n    \r\n            this.options = $.extend( {}, defaults, options ) ;\r\n    \r\n            this._defaults = defaults;\r\n            this._name = pluginName;\r\n    \r\n            this.init();\r\n        }\r\n    \r\n        Plugin.prototype = {\r\n    \r\n    \t\t// Constructor.\r\n            init: function() {\r\n    \r\n    \t\t\t// Build elements cache.\r\n    \t\t\tthis.buildCache();\r\n    \r\n    \t\t\t// Calling event builder, no preparation needed.\r\n    \t\t\tthis.bindEvents();\r\n            },\r\n    \r\n    \t\tbindEvents: function() {\r\n    \r\n    \t\t\t// Caching object.\r\n    \t\t\tvar self = this;\r\n    \r\n    \t\t\t// Click on topmenu links.\r\n    \t\t\tthis.$element.menuTopLevelLinks.on( \"click\", function( event ) {\r\n    \t\t\t\t\tevent.preventDefault();\r\n    \t\t\t\t\tself.dropdownToggle( $( this ) );\r\n    \t\t\t\t\tevent.stopPropagation();\r\n    \t\t\t\t} );\r\n    \r\n    \t\t\t// Click on has-submenu item\r\n    \t\t\tthis.$element.menuSubLevelLinks.on( \"click\", function( event ) {\r\n    \t\t\t\t\tevent.preventDefault();\r\n    \t\t\t\t\tself.submenuLevelDown( $( this ) );\r\n    \t\t\t\t\tevent.stopPropagation();\r\n    \t\t\t\t} );\r\n    \r\n    \t\t\t// Click on back button.\r\n    \t\t\tthis.$element.find( \".bdbg-menu__item--back a\" )\r\n    \t\t\t\t.on( \"click\", function( event ) {\r\n    \t\t\t\t\tevent.preventDefault();\r\n    \t\t\t\t\tself.submenuLevelUp( $( this ) );\r\n    \t\t\t\t\tevent.stopPropagation();\r\n    \t\t\t\t} );\r\n    \r\n    \t\t\t$( document ).on( \"click\", function( event ) {\r\n    \t\t\t\tself.forceCloseDropdown();\r\n    \t\t\t} );\r\n    \r\n    \t\t},\r\n    \r\n    \t\tdropdownToggle: function( $this ) {\r\n    \r\n    \t\t\t// Call submenu reset, this will return submenus to initial level.\r\n    \t\t\tthis.submenuReset();\r\n    \r\n                // if ( $this.parent().hasClass( \"is-submenu-visible\" ) ) {\r\n                //     $this.parent().removeClass( \"is-submenu-visible\" );\r\n                // } else {\r\n                //     $this.parent().addClass( \"is-submenu-visible\" );\r\n                // }\r\n    \r\n                // $this.parent().siblings()\r\n    \t\t\t// \t.removeClass( \"is-submenu-visible\" );\r\n    \r\n    \t\t\t$this.parent().siblings( \".is-submenu-visible\" )\r\n    \t\t\t\t.removeClass( \"is-submenu-visible\" );\r\n    \r\n                $this.parent().toggleClass( \"is-submenu-visible\" );\r\n    \r\n    \t\t\t$this.parent().siblings().find( \".bdbg-menu__submenu\" )\r\n    \t\t\t\t.removeClass( \"is-visible\" );\r\n    \r\n    \t\t\t$this.next( \".bdbg-menu__submenu\" )\r\n    \t\t\t\t.stop( true, false, true )\r\n    \t\t\t\t.toggleClass( \"is-visible\" );\r\n    \t\t},\r\n    \r\n    \t\tforceCloseDropdown: function() {\r\n    \r\n                // Dropping all open menus\r\n    \t\t\tif ( this.$element.find( \".is-visible\" ).length ) {\r\n    \t\t\t\tthis.$element.find( \".is-visible\" ).removeClass( \"is-visible\" );\r\n    \t\t\t}\r\n    \r\n                if ( this.$element.find( \".is-submenu-visible\" ).length ) {\r\n    \t\t\t\tthis.$element.find( \".is-submenu-visible\" ).removeClass( \"is-submenu-visible\" );\r\n    \t\t\t}\r\n    \r\n                // this.$element.find( \"is-submenu-visible\" ).removeClass( \"is-submenu-visible\" );\r\n    \t\t},\r\n    \r\n    \t\tsubmenuLevelDown: function( $this ) {\r\n    \r\n    \t\t\t// Adds open class to parent ul.bdbg-menu__submenu & li,\r\n    \t\t\t// that contains current submenu ul.\r\n    \t\t\t$this.parent().addClass( \"is-open\" );\r\n    \t\t\t$this.closest( \".bdbg-menu__submenu\" ).addClass( \"is-open\" );\r\n    \t\t},\r\n    \r\n    \t\tsubmenuLevelUp: function( $this ) {\r\n    \r\n    \t\t\t// Caching current submenu.\r\n    \t\t\tvar $currSubmenu = $this.closest( \".bdbg-menu__item--has-children.is-open\" );\r\n    \r\n    \t\t\t$currSubmenu.removeClass( \" is-open\" );\r\n    \t\t\t$currSubmenu.parent().removeClass( \" is-open\" );\r\n    \t\t},\r\n    \r\n    \t\tsubmenuReset: function() {\r\n    \t\t\tthis.$element.find( \".is-open\" ).removeClass( \"is-open\" );\r\n    \t\t},\r\n    \r\n    \t\tbuildCache: function() {\r\n    \r\n    \t\t\t// Caching base lements.\r\n    \t\t\tthis.$element = $( this.element );\r\n    \t\t\tthis.$element.menuTopLevelLinks = this.$element\r\n    \t\t\t\t.find( \".bdbg-menu__item--level-0.bdbg-menu__item--has-children\" ).children( \"a\" );\r\n    \r\n    \t\t\tthis.$element.menuSubLevelLinks = this.$element\r\n    \t\t\t\t.find( \".bdbg-menu__item--level-0 .bdbg-menu__item--has-children\" ).children( \"a\" );\r\n    \t\t}\r\n        };\r\n    \r\n        // A really lightweight plugin wrapper around the constructor,\r\n        // preventing against multiple instantiations.\r\n        $.fn[ pluginName ] = function( options ) {\r\n            return this.each( function() {\r\n                if ( !$.data( this, \"plugin_\" + pluginName ) ) {\r\n                    $.data( this, \"plugin_\" + pluginName,\r\n                    new Plugin( this, options ) );\r\n                }\r\n            } );\r\n        };\r\n    \r\n    } )( jQuery, window, document );\r\n\r\n    // Init Menus\r\n    $( \"#bdbg-menu-main\" ).bdbgMenu();\r\n    $( \"#bdbg-menu-side\" ).bdbgMenu();\r\n\r\n    $( function() {\r\n\r\n        wp.customize( \"bdbg_header_background\", function( value ) {\r\n            value.bind( function( newval ) {\r\n                $( \".bdbg-header\" ).css( \"background-color\", newval );\r\n            } );\r\n        } );\r\n\r\n        wp.customize( \"bdbg_header_fontcolor\", function( value ) {\r\n            value.bind( function( newval ) {\r\n                $( \".bdbg-header\" ).css( \"color\", newval );\r\n                $( \".bdbg-header a\" ).css( \"color\", newval );\r\n            } );\r\n        } );\r\n\r\n        wp.customize( \"bdbg_header_logo_margin\", function( value ) {\r\n            value.bind( function( newval ) {\r\n                $( \".bdbg-logo\" ).css( \"margin-top\", newval + \"px\" );\r\n            } );\r\n        } );\r\n\r\n        wp.customize( \"bdbg_header_menu_vertical_margin\", function( value ) {\r\n            value.bind( function( newval ) {\r\n                $( \".bdbg-menu\" ).css( \"margin-top\", newval + \"px\" );\r\n            } );\r\n        } );\r\n\r\n        wp.customize( \"bdbg_header_shadow\", function( value ) {\r\n            value.bind( function( newval ) {\r\n                if ( newval === false ) {\r\n                    $( \".bdbg-header\" ).css( \"box-shadow\", \"none\" );\r\n                } else {\r\n                    $( \".bdbg-header\" ).css( \"box-shadow\", \"\" );\r\n                }\r\n            } );\r\n        } );\r\n\r\n    } );\r\n\r\n} )( jQuery );"],"file":"customizer.js","sourceRoot":"/source/"}